<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="ezknitr is an extension of knitr that adds flexibility in several
ways. One common source of frustration with knitr is that it assumes
the directory where the source file lives should be the working directory,
which is often not true. ezknitr addresses this problem by giving you
complete control over where all the inputs and outputs are, and adds several
other convenient features. The two main functions are ezknit and 
ezspin, which are wrappers around knitr's knit and
spin, used to make rendering markdown/HTML documents easier."><title>Knit Rmd or spin R files without the typical pain of working directories — ezknitr_core • ezknitr</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Knit Rmd or spin R files without the typical pain of working directories — ezknitr_core"><meta property="og:description" content="ezknitr is an extension of knitr that adds flexibility in several
ways. One common source of frustration with knitr is that it assumes
the directory where the source file lives should be the working directory,
which is often not true. ezknitr addresses this problem by giving you
complete control over where all the inputs and outputs are, and adds several
other convenient features. The two main functions are ezknit and 
ezspin, which are wrappers around knitr's knit and
spin, used to make rendering markdown/HTML documents easier."><meta property="og:image" content="https://docs.ropensci.org/ezknitr/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ezknitr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/ezknitr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ezknitr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Knit Rmd or spin R files without the typical pain of working directories</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ezknitr/blob/HEAD/R/core.R" class="external-link"><code>R/core.R</code></a></small>
      <div class="d-none name"><code>ezknitr_core.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ezknitr</code> is an extension of <code>knitr</code> that adds flexibility in several
ways. One common source of frustration with <code>knitr</code> is that it assumes
the directory where the source file lives should be the working directory,
which is often not true. <code>ezknitr</code> addresses this problem by giving you
complete control over where all the inputs and outputs are, and adds several
other convenient features. The two main functions are <code>ezknit</code> and 
<code>ezspin</code>, which are wrappers around <code>knitr</code>'s <code>knit</code> and
<code>spin</code>, used to make rendering markdown/HTML documents easier.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ezspin</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">wd</span>,</span>
<span>  <span class="va">out_dir</span>,</span>
<span>  <span class="va">fig_dir</span>,</span>
<span>  <span class="va">out_suffix</span>,</span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tidy <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  keep_rmd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_md <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_html <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  move_intermediate_file <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ezknit</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">wd</span>,</span>
<span>  <span class="va">out_dir</span>,</span>
<span>  <span class="va">fig_dir</span>,</span>
<span>  <span class="va">out_suffix</span>,</span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tidy <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  keep_md <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_html <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file</dt>
<dd><p>The path to the input file (.Rmd file if using <code>ezknit</code> or 
.R script if using <code>ezspin</code>). If <code>wd</code> is provided, then this path is 
relative to <code>wd</code>.</p></dd>


<dt>wd</dt>
<dd><p>The working directory to be used in the Rmd/R script. Defaults to
the current working directory (note that this is not the same behaviour as
<code>knitr</code>). See the 'Detailed Arguments' section for more details.</p></dd>


<dt>out_dir</dt>
<dd><p>The output directory for the rendered markdown or HTML files
(if <code>wd</code> is provided, then this path is relative to <code>wd</code>).
Defaults to the directory containing the input file.</p></dd>


<dt>fig_dir</dt>
<dd><p>The name (or path) of the directory where figures should
be generated. See the 'Detailed Arguments' section for more details.</p></dd>


<dt>out_suffix</dt>
<dd><p>A suffix to add to the output files. Can be used to
differentiate outputs from runs with different parameters. The name of the
output files is the name of the input file appended by <code>out_suffix</code>,
separated by a dash.</p></dd>


<dt>params</dt>
<dd><p>A named list of parameters to be passed to use in the input
Rmd/R file. For example, if the script to execute assumes that there is a
variable named <code>DATASET_NAME</code>, then you can use
<code>params = list('DATASET_NAME' = 'oct10dat')</code>.</p></dd>


<dt>verbose</dt>
<dd><p>If TRUE, then show the progress of knitting the document.</p></dd>


<dt>chunk_opts</dt>
<dd><p>List of knitr chunk options to use. See 
<code><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">?knitr::opts_chunk</a></code> for a list of available chunk options.</p></dd>


<dt>keep_rmd, keep_md</dt>
<dd><p>Should intermediate <code>Rmd</code> or <code>md</code> files be
kept (<code>TRUE</code>) or deleted (<code>FALSE</code>)?</p></dd>


<dt>keep_html</dt>
<dd><p>Should the final <code>html</code> file be kept (<code>TRUE</code>)
or deleted (<code>FALSE</code>)?</p></dd>


<dt>move_intermediate_file</dt>
<dd><p>Should the intermediate <code>Rmd</code> file be
moved to the output folder (<code>TRUE</code>) or stay in the same folder as
the source <code>R</code> file (<code>FALSE</code>)?</p></dd>


<dt>...</dt>
<dd><p>Any extra parameters that should be passed to <code><a href="https://rdrr.io/pkg/knitr/man/spin.html" class="external-link">knitr::spin</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The path to the output directory (invisibly).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If you have a very simple project with a flat directory structure, then
<code>knitr</code> works great. But even something as simple as trying to knit a 
document that reads a file from a different directory or placing the output 
rendered files in a different folder cannot be easily done with <code>knitr</code>.</p>
<p><code>ezknitr</code> improves basic <code>knitr</code> functionality in a few ways.
You get to decide:</p><ul><li><p>What the working directory of the source file is</p></li>
<li><p>Where the output files will go</p></li>
<li><p>Where the figures used in the markdown will go</p></li>
<li><p>Any parameters to pass to the source file</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="detailed-arguments">Detailed Arguments<a class="anchor" aria-label="anchor" href="#detailed-arguments"></a></h2>
    

<p>All paths given in the arguments can be either absolute or relative.</p>
<p>The <code>wd</code> argument is very important and is set to the current working
directory by default. The path of the input file and the path of the output
directory are both relative to <code>wd</code> (unless they are absolute paths).
Moreover, any code in the R script that reads or writes files will use
<code>wd</code> as the working directory.</p>
<p>The <code>fig_dir</code> argument is relative to the output directory, since the
figures accompanying a markdown file should be placed in the same
directory. It is recommended to either leave <code>fig_dir</code> as default or
set it to a different name but not to a different directory. Because of the
way <code>knitr</code> works, there are a few known minor issues if <code>fig_dir</code>
is set to a different directory.</p>
    </div>
    <div class="section level2">
    <h2 id="difference-between-ezknit-and-ezspin">Difference between ezknit and ezspin<a class="anchor" aria-label="anchor" href="#difference-between-ezknit-and-ezspin"></a></h2>
    

<p><code>ezknit</code> is a wrapper around <code><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">knitr::knit</a></code> while <code>ezspin</code>
is a wrapper around <code>ezspin</code>. The two functions are very similar.
<code>knit</code> is the more popular and well-known function. It is used
 to render a markdown/HTML document from an Rmarkdown source. 
<code>spin</code> takes an R script as its input, produces an
Rmarkdown document from the R script, and then calls <code>knit</code> on it.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="open_output_dir.html">open_output_dir</a></code>
<code><a href="setup_test.html">setup_ezknit_test</a></code>
<code><a href="setup_test.html">setup_ezspin_test</a></code>
<code><a href="set_default_params.html">set_default_params</a></code>
<code><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">knit</a></code>
<code><a href="https://rdrr.io/pkg/knitr/man/spin.html" class="external-link">spin</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="setup_test.html">setup_ezknit_test</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">ezknit</span><span class="op">(</span><span class="st">"R/ezknit_test.Rmd"</span>, wd <span class="op">=</span> <span class="st">"ezknitr_test"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">ezknit</span><span class="op">(</span><span class="st">"R/ezknit_test.Rmd"</span>, wd <span class="op">=</span> <span class="st">"ezknitr_test"</span>,</span></span>
<span class="r-in"><span>          out_dir <span class="op">=</span> <span class="st">"output"</span>, fig_dir <span class="op">=</span> <span class="st">"coolplots"</span>,</span></span>
<span class="r-in"><span>          params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>numPoints <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="open_output_dir.html">open_output_dir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tmp</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span>   <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="setup_test.html">setup_ezspin_test</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">ezspin</span><span class="op">(</span><span class="st">"R/ezspin_test.R"</span>, wd <span class="op">=</span> <span class="st">"ezknitr_test"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">ezspin</span><span class="op">(</span><span class="st">"R/ezspin_test.R"</span>, wd <span class="op">=</span> <span class="st">"ezknitr_test"</span>,</span></span>
<span class="r-in"><span>          out_dir <span class="op">=</span> <span class="st">"output"</span>, fig_dir <span class="op">=</span> <span class="st">"coolplots"</span>,</span></span>
<span class="r-in"><span>          params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>numPoints <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>, keep_rmd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="open_output_dir.html">open_output_dir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tmp</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

