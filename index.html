<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="An extension of knitr that adds flexibility in several
    ways. One common source of frustration with knitr is that it assumes
    the directory where the source file lives should be the working directory,
    which is often not true. ezknitr addresses this problem by giving you
    complete control over where all the inputs and outputs are, and adds several
    other convenient features to make rendering markdown/HTML documents easier.">
<title>Avoid the Typical Working Directory Pain When Using knitr • ezknitr</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Avoid the Typical Working Directory Pain When Using knitr">
<meta property="og:description" content="An extension of knitr that adds flexibility in several
    ways. One common source of frustration with knitr is that it assumes
    the directory where the source file lives should be the working directory,
    which is often not true. ezknitr addresses this problem by giving you
    complete control over where all the inputs and outputs are, and adds several
    other convenient features to make rendering markdown/HTML documents easier.">
<meta property="og:image" content="https://docs.ropensci.org/ezknitr/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">ezknitr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="articles/ezknitr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ezknitr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ezknitr---avoid-the-typical-working-directory-pain-when-using-knitr">ezknitr - Avoid the typical working directory pain when using ‘knitr’<a class="anchor" aria-label="anchor" href="#ezknitr---avoid-the-typical-working-directory-pain-when-using-knitr"></a>
</h1>
</div>
<p><a href="https://github.com/ropensci/ezknitr/actions" class="external-link"><img src="https://github.com/ropensci/ezknitr/workflows/R-CMD-check/badge.svg" alt="R Build Status"></a> <a href="https://cran.r-project.org/package=ezknitr" class="external-link"><img src="https://www.r-pkg.org/badges/version/ezknitr" alt="CRAN version"></a></p>
<blockquote><p><em>Copyright 2023 <a href="https://deanattali.com" class="external-link">Dean Attali</a>. Licensed under the MIT license.</em></p></blockquote>
<p><a href="https://github.com/yihui/knitr" class="external-link"><code>knitr</code></a> is a popular package for generating dynamic reports in R using the concept of <a href="http://www.literateprogramming.com/knuthweb.pdf" class="external-link">literate programming</a>. <code>ezknitr</code> is an extension of <code>knitr</code> that adds flexibility in several ways and solves a few issues that are commonly encountered with <code>knitr</code>.</p>
<p>One common source of frustration with <code>knitr</code> is that it assumes the directory where the source file lives should be the working directory, which is often not true. <code>ezknitr</code> addresses this problem by giving you complete control over where all the inputs and outputs are, and adds several other convenient features. The two main functions are <code><a href="reference/ezknitr_core.html">ezknit()</a></code> and <code><a href="reference/ezknitr_core.html">ezspin()</a></code>, which are wrappers around <code>knitr</code>’s <code>knit()</code> and <code>spin()</code>, used to make rendering markdown/HTML documents easier.</p>
<div class="section level2">
<h2 id="table-of-contents">Table of contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a>
</h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#motivation-simple-usecase">Motivation &amp; simple use case</a></li>
<li><a href="#usecase-advanced">Use case: using one script to analyze multiple datasets</a></li>
<li><a href="#experiment">Experiment with ezknitr</a></li>
<li><a href="#spin-vs-knit">spin() vs knit()</a></li>
<li><a href="#using-render">Using rmarkdown::render()</a></li>
</ul>
<h2 id="table-of-contents-1">Installation<a class="anchor" aria-label="anchor" href="#table-of-contents-1"></a>
</h2>
<p><code>ezknitr</code> is available through both CRAN and GitHub.</p>
<p>To install the CRAN version:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ezknitr"</span>)</span></code></pre></div>
<p>To install the latest developmental version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"ropensci/ezknitr"</span>)</span></code></pre></div>
<h2 id="table-of-contents-2">Overview<a class="anchor" aria-label="anchor" href="#table-of-contents-2"></a>
</h2>
<p>If you have a very simple project with a flat directory structure, then <code>knitr</code> works great. But even something as simple as trying to knit a document that reads a file from a different directory or placing the output rendered files in a different folder cannot be easily done with <code>knitr</code>.</p>
<p><code>ezknitr</code> improves basic <code>knitr</code> functionality in a few ways. You get to decide:</p>
<ul>
<li>What the working directory of the source file is<ul><li>Default is your current working directory, which often makes more sense than the <code>knitr</code> assumption that the working directory is wherever the input file is</li></ul>
</li>
<li>Where the output files will go<ul><li>With <code>knitr</code>, all the rendered output files will be generated in the folder you’re currently in</li></ul>
</li>
<li>Where the figures generated in the markdown document will be stored<ul><li>
<code>knitr</code> makes it cumbersome to change this directory</li></ul>
</li>
<li>Any parameters to pass to the source file<ul><li>Useful if you want to run an identical source file multiple times with different parameters</li></ul>
</li>
</ul>
<h2 id="table-of-contents-3">Motivation &amp; simple use case<a class="anchor" aria-label="anchor" href="#table-of-contents-3"></a>
</h2>
<p>Assume you have an Rmarkdown file that reads a data file and produces a short report while also generating a figure. Native <code>knit()</code> (or <code>spin()</code> if you’re starting with an R script instead of an Rmd file) works great if you have a flat directory structure like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> project<span class="sc">/</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">-</span> input.csv</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> report.Rmd</span></code></pre></div>
<p>But what happens if you have a slightly more complex structure? In a real project, you rarely have everything just lying around in the same folder. Here is an example of a more realistic initial directory structure (assume the working directory/project root is set to <code>project/</code>):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> project<span class="sc">/</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">-</span> analysis<span class="sc">/</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> report.Rmd</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> data<span class="sc">/</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> input.csv</span></code></pre></div>
<p>Now if you want <code>knitr</code> to work, you’d have to ensure the path to <code>input.csv</code> is relative to the <code>analysis/</code> directory because that’s where the Rmd file is. This is counter-intuitive because most people expect to create paths relative to the <em>working directory/project root</em> (<code>project/</code> in this case), but <code>knitr</code> will use the <code>analysis/</code> folder as the working directory. Any code reading the input file needs to use <code>../data/input.csv</code> instead of <code>data/input.csv</code>.</p>
<p>Other than being confusing, it also means that you cannot naively run the Rmd code chunks manually because when you run the code in the console, your working directory is not set to what <code>knitr</code> will use as the working directory. More specifically, if you try to run the command that reads the input file, your console will look in <code>project/../data/input.csv</code> (which doesn’t exist).</p>
<p>A similar problem arises when you want to create files in your report: <code>knitr</code> will create the files relative to where the Rmd file is, rather than relative to the project root.</p>
<p>Another problem with the flat directory structure is that you may want to control where the resulting reports get generated. <code>knitr</code> will create all the outputs in your working directory, and as far as I know there is no way to control that.</p>
<p><code>ezknitr</code> addresses these issues, and more. It provides wrappers to <code>knit()</code> and <code>spin()</code> that allow you to set the working directory for the input file, and also uses a more sensible default working directory: the current working directory. <code>ezknitr</code> also lets you decide where the output files and output figures will be generated, and uses a better default path for the output files: the directory containing the input file.</p>
<p>Assuming your working directory is currently set to the <code>project/</code> directory, you could use the following <code>ezknitr</code> command to do what you want:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ezknitr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ezknit</span>(<span class="at">file =</span> <span class="st">"analysis/report.Rmd"</span>, <span class="at">out_dir =</span> <span class="st">"reports"</span>, <span class="at">fig_dir =</span> <span class="st">"myfigs"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> project<span class="sc">/</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">-</span> analysis<span class="sc">/</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> report.Rmd</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> data<span class="sc">/</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> input.csv</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> reports<span class="sc">/</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> myfigs<span class="sc">/</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="er">|</span><span class="sc">-</span> fig1.png</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> report.md</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> report.HTML</span></code></pre></div>
<p>We didn’t explicitly have to set the working direcory, but you can use the <code>wd</code> argument if you do require a different directory (for example, if you are running this from some build script or from any arbitrary directory). After running <code><a href="reference/ezknitr_core.html">ezknit()</a></code>, you can run <code><a href="reference/open_output_dir.html">open_output_dir()</a></code> to open the output directory in your file browser if you want to easily see the resulting report. Getting a similar directory structure with <code>knitr</code> is not simple, but with <code>ezknitr</code> it’s trivial.</p>
<p>Note that <code>ezknitr</code> produces both a markdown and an HTML file for each report (you can choose to discard them with the <code>keep_md</code> and <code>keep_html</code> arguments).</p>
<h2 id="table-of-contents-4">Use case: using one script to analyze multiple datasets<a class="anchor" aria-label="anchor" href="#table-of-contents-4"></a>
</h2>
<p>As an example of a more complex realistic scenario where <code>ezknitr</code> would be useful, imagine having multiple analysis scripts, with each one needing to be run on multiple datasets. Being the organizer scientist that you are, you want to be able to run each analysis on each dataset, and keep the results neatly organized. I personally was involved in a few projects requiring exactly this, and <code>ezknitr</code> was in fact born for solving this exact issue. Assume you have the following files in your project:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> project<span class="sc">/</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">-</span> analysis<span class="sc">/</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> calculate.Rmd</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> explore.Rmd</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> data<span class="sc">/</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> human.dat</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> mouse.dat</span></code></pre></div>
<p>We can easily use <code>ezknitr</code> to run any of the analysis Rmarkdowns on any of the datasets and assign the results to a unique output. Let’s assume that each analysis script expects there to be a variable named <code>DATASET_NAME</code> inside the script that tells the script what data to operate on. The following <code>ezknitr</code> code illustrates how to achieve the desired output.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ezknitr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ezknit</span>(<span class="at">file =</span> <span class="st">"analysis/explore.Rmd"</span>, <span class="at">out_dir =</span> <span class="st">"reports/human"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">params =</span> <span class="fu">list</span>(<span class="st">"DATASET_NAME"</span> <span class="ot">=</span> <span class="st">"human.dat"</span>), <span class="at">keep_html =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ezknit</span>(<span class="at">file =</span> <span class="st">"analysis/explore.Rmd"</span>, <span class="at">out_dir =</span> <span class="st">"reports/mouse"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">params =</span> <span class="fu">list</span>(<span class="st">"DATASET_NAME"</span> <span class="ot">=</span> <span class="st">"mouse.dat"</span>), <span class="at">keep_html =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ezknit</span>(<span class="at">file =</span> <span class="st">"analysis/calculate.Rmd"</span>, <span class="at">out_dir =</span> <span class="st">"reports/mouse"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">params =</span> <span class="fu">list</span>(<span class="st">"DATASET_NAME"</span> <span class="ot">=</span> <span class="st">"mouse.dat"</span>), <span class="at">keep_html =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> project<span class="sc">/</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">-</span> analysis<span class="sc">/</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> calculate.Rmd</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> explore.Rmd</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> data<span class="sc">/</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> human.dat</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> mouse.dat</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|-</span> reports<span class="sc">/</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>     <span class="er">|</span><span class="sc">-</span> human<span class="sc">/</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="er">|</span><span class="sc">-</span> explore.md</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>     <span class="sc">|-</span> mouse<span class="sc">/</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="er">|</span><span class="sc">-</span> calculate.md</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        <span class="sc">|-</span> explore.md</span></code></pre></div>
<p>Note that this example uses the <code>params = list()</code> argument, which lets you pass variables to the input Rmarkdown. In this case, I use it to tell the Rmarkdown what dataset to use, and the Rmarkdown assumes a <code>DATASET_NAME</code> variable exists. This of course means that the analysis script has an external dependency by having a variable that is not defined inside of it. You can use the <code><a href="reference/set_default_params.html">set_default_params()</a></code> function inside the Rmarkdown to ensure the variable uses a default value if none was provided.</p>
<p>Also note that differentiating the species in the output could also have been done using the <code>out_suffix</code> argument instead of the <code>out_dir</code> argument. For example, using <code>out_suffix = "human"</code> would have resulted in an ouput file named <code>explore-human.md</code>.</p>
<h2 id="table-of-contents-5">Experiment with ezknitr<a class="anchor" aria-label="anchor" href="#table-of-contents-5"></a>
</h2>
<p>After installing and loading the package (<code><a href="https://docs.ropensci.org/ezknitr/">library(ezknitr)</a></code>), you can experiment with <code>ezknitr</code> using the <code><a href="reference/setup_test.html">setup_ezknit_test()</a></code> or <code><a href="reference/setup_test.html">setup_ezspin_test()</a></code> functions to see their benefits. See <code><a href="reference/setup_test.html">?setup_ezknit_test</a></code> for more information.</p>
<h2 id="table-of-contents-6">spin() vs knit()<a class="anchor" aria-label="anchor" href="#table-of-contents-6"></a>
</h2>
<p><code>knit()</code> is the most popular and well-known function from <code>knitr</code>. It lets you create a markdown document from an Rmarkdown file. You can learn more about <code>knit()</code> on <a href="https://yihui.org/knitr/" class="external-link">the official knitr page</a>.</p>
<p><code>spin()</code> is similar, but starts one step further back: it takes an R script as input, creates an Rmarkdown document from the R script, and then proceeds to create a markdown document from it. <code>spin()</code> can be useful in situations where you develop a large R script and want to be able to produce reports from it directly instead of having to copy chunks into a separate Rmarkdown file. You can read more about why I like <code>spin()</code> in the blog post <a href="https://deanattali.com/2015/03/24/knitrs-best-hidden-gem-spin/" class="external-link">“knitr’s best hidden gem: spin”</a>.</p>
<h2 id="table-of-contents-7">Using rmarkdown::render()<a class="anchor" aria-label="anchor" href="#table-of-contents-7"></a>
</h2>
<p>When the core of this package was developed, none of its functionality was supported in any way by either <code>knitr</code> or <code>rmarkdown</code>. Over time, <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">rmarkdown::render()</a></code> got some new features that are very similar to features of <code>ezknitr</code>. Native support for parameters inside Rmarkdown files using YAML is a big feature which makes the use of <code><a href="reference/set_default_params.html">set_default_params()</a></code> and the <code>params</code> argument of <code>ezknitr</code> less important. However, the core problem that <code>ezknitr</code> wants to solve is the working directory issue, and this issue has yet to be addressed by <code>rmarkdown</code> or <code>knitr</code>, which makes <code>ezknitr</code> still useful.</p>
<p>Please note that this project is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ezknitr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/ezknitr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/ezknitr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ezknitr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Dean Attali <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/ezknitr" class="external-link"><img src="https://ropensci.r-universe.dev/badges/ezknitr" alt="ezknitr status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/56" class="external-link"><img src="https://badges.ropensci.org/56_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
